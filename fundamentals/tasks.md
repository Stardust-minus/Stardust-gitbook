---
description: 可低延迟检测 B 站动态/直播并转发到 Q 群的 Mirai 插件。
---

# B站动态推送

__[_项目地址_](https://github.com/Colter23/bilibili-dynamic-mirai-plugin)__

作者:[Colter23](https://github.com/Colter23)

此功能需要申请权限后方可使用。

### 使用:

| 指令                                | 描述                  |
| --------------------------------- | ------------------- |
| /bili \<login 登录>                 | bot管理员进行扫码登录        |
| /bili \<add 添加> \<uid> \[群/Q号]    | 为目标 \[群/Q号] 添加一个订阅  |
| /bili \<list 列表> \[群/Q号]          | 查询目标 \[群/Q号] 的订阅列表  |
| /bili \<del 删除> \<uid> \[群/Q号]    | 为目标 \[群/Q号] 删除一个订阅  |
| /bili \<delAll 删除全部订阅> \[群/Q号]    | 将目标 \[群/Q号] 的全部订阅删除 |
| /bili \<set 设置> \<uid> \[群/Q号]    | 为目标 \[群/Q号] 设置订阅内容  |
| /bili \<color 颜色> \<uid> <16进制颜色> | 为目标 UID 设置图片推送主题色   |
| /bili \<list 列表> \[群/Q号]          | 查询目标 \[群/Q号] 的订阅列表  |

### 已知问题

* 部分颜文字会以方块显示
* 小概率图片模式有些文字或图片会错位
* 小概率图片获取失败，图片位置为全白
* 链接,话题以及@不会变色(感觉用处不大?如果你强烈需要可以去开个 issues <\_<)

### **动态过滤指令**

过滤：当动态文字内容匹配过滤表达式时**不**推送动态\
包含：仅当动态文字内容匹配过滤表达式时**推送**动态\
过滤表达式：支持正则表达式，普通用户用文字即可，^匹配开头 $匹配结尾

| 指令                                                 | 描述                       |
| -------------------------------------------------- | ------------------------ |
| /bili \<filter f 过滤> <过滤表达式> \<uid> \[群/Q号]        | 为目标 \[群/Q号] 添加 uid 的动态过滤 |
| /bili \<contain c 包含> <过滤表达式> \<uid> \[群/Q号]       | 为目标 \[群/Q号] 添加 uid 的动态包含 |
| /bili \<filterList fl 过滤列表> \<uid> \[群/Q号]         | 列出 uid 的过滤包含列表           |
| /bili \<filterDel fd 过滤删除> \<index> \<uid> \[群/Q号] | 删除 uid 中 index 的过滤包含     |

```
# 栗子
/bili f 互动抽奖 487550002    # 为当前群/好友订阅的 487550002 用户设置内容为“互动抽奖”的过滤
# 当 487550002 用户动态中包含“互动抽奖”文字时不给当前群/好友推送

/bili c ^新年好 0 111111    # 为 111111 群/好友订阅的所有用户设置内容为“^新年好”的包含
# 当 111111 群/好友订阅的所有用户的动态内容开头包含“新年好”时推送此动态

/bili fl 487550002   # 查询当前群/好友订阅的 487550002 设置过的过滤列表
# 返回的内容类似
# 过滤 
# f0: 啊这
# f1: 互动抽奖
# 包含 
# c0: 新年好
#
# f0 f1 c0 等为删除的索引<index>

/bili fd f0 487550002   # 删除上面f0的过滤

# 特例
# uid 为 0 时，代表群/好友订阅的所有用户
```



{% hint style="info" %}
**Good to know:动态检测有一定几率失败。因此其实并不能做到真正意义上的实时推送。**
{% endhint %}
